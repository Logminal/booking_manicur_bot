# Python –ú–∞–Ω–∏–∫—é—Ä Telegram Bot

–ë–æ—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –º–∞–Ω–∏–∫—é—Ä —É—Å–ª—É–≥–∏ —á–µ—Ä–µ–∑ Telegram —Å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å—é.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
python_manikur_tg_bot/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (BOT_TOKEN, ADMIN_ID, DB_NAME)
‚îú‚îÄ‚îÄ states.py            # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
‚îú‚îÄ‚îÄ database.py          # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å SQLite –ë–î
‚îú‚îÄ‚îÄ keyboards.py         # –°–æ–∑–¥–∞–Ω–∏–µ inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä
‚îÇ
‚îú‚îÄ‚îÄ handlers/            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ common.py        # –û–±—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (/start, –º–µ–Ω—é, –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ)
‚îÇ   ‚îú‚îÄ‚îÄ booking.py       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–ø–∏—Å–∏
‚îÇ   ‚îî‚îÄ‚îÄ admin.py         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (BOT_TOKEN, ADMIN_ID)
‚îú‚îÄ‚îÄ nails.db             # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ README.md            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üìã –ú–æ–¥—É–ª–∏

### `config.py`
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `ADMIN_ID` - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `DB_NAME` - –∏–º—è —Ñ–∞–π–ª–∞ –ë–î

### `states.py`
FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- `BookingState` - —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `AdminState` - —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

### `database.py`
–§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î:
- `init_db()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü (—Å—Ö–µ–º–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∞: –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å–ª—É–≥, —Å—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Å–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- `get_services()` - –ø–æ–ª—É—á–∏—Ç—å —É—Å–ª—É–≥–∏
- `get_service(name)` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–¥–Ω–æ–π —É—Å–ª—É–≥–µ
- `add_service()` - –¥–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É (—Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é)
- `add_booking()` - –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å (—Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é)
- `get_user_bookings()` - –ø–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `get_all_bookings()` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ (–∞–¥–º–∏–Ω)
- `get_busy_times()` - –ø–æ–ª—É—á–∏—Ç—å –∑–∞–Ω—è—Ç–æ–µ –≤—Ä–µ–º—è –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–∞—Ç—É
- `update_booking_status()` - –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `get_work_hours()` / `set_work_hours()` - —Ä–∞–±–æ—Ç–∞ —Å —á–∞—Å–∞–º–∏ —Ä–∞–±–æ—Ç—ã –º–∞—Å—Ç–µ—Ä–∞
- `delete_booking()` - —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å

### `keyboards.py`
–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä:
- `main_menu_kb()` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `admin_panel_kb()` - –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- `back_to_admin_kb()` - –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥

### `handlers/common.py`
–û–±—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- `/start` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- `to_main` - –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö FSM

### `handlers/booking.py`
–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–ø–∏—Å–∏ (—É—á–∏—Ç—ã–≤–∞—é—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ü–µ–Ω—É –∏ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã):
- `choose_service()` - –≤—ã–±–æ—Ä —É—Å–ª—É–≥–∏ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ü–µ–Ω—É –∏ –≤—Ä–µ–º—è)
- `choose_date()` - –≤—ã–±–æ—Ä –¥–∞—Ç—ã
- `choose_time()` - –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–æ—Ç—ã —Å —É—á—ë—Ç–æ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∑–∞–Ω—è—Ç—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –∏ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤), –∞–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –≤—Ä–µ–º–µ–Ω–∞ —Å —à–∞–≥–æ–º 30 –º–∏–Ω—É—Ç –∏ –∏—Å–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
- `confirm()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `finish()` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `my_bookings()` - –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞—Ç—É—Å)
- `del_booking()` - –æ—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏

### `handlers/admin.py`
–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏:
- `admin_panel()` - –ø–æ–∫–∞–∑–∞—Ç—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- `view_all_bookings()` - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–æ/–æ—Ç–º–µ–Ω–µ–Ω–æ)
- `add_svc_name()` - –Ω–∞—á–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏
- `add_svc_price()` - –≤–≤–µ—Å—Ç–∏ —Ü–µ–Ω—É —É—Å–ª—É–≥–∏
- `add_svc_final()` - –∑–∞–≤–µ—Ä—à–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ (–≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–µ "–ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è")
- `set_hours_start()` / `save_hours()` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã –º–∞—Å—Ç–µ—Ä–∞
- `mark_done()` / `mark_canceled()` - –æ—Ç–º–µ—Ç–∏—Ç—å –∑–∞–ø–∏—Å—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ

### `main.py`
–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Bot –∏ Dispatcher
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ó–∞–ø—É—Å–∫ polling

## üöÄ –ó–∞–ø—É—Å–∫

```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
.\.venv\Scripts\Activate.ps1

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
python main.py
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `aiogram` - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram –±–æ—Ç–æ–≤
- `aiosqlite` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å SQLite
- `python-dotenv` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `apscheduler` - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã:

### `services`
- `id` - ID —É—Å–ª—É–≥–∏
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ
- `price` - —Ü–µ–Ω–∞

### `bookings`
- `id` - ID –∑–∞–ø–∏—Å–∏
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `username` - username
- `service` - –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏
- `date` - –¥–∞—Ç–∞ (YYYY-MM-DD)
- `time` - –≤—Ä–µ–º—è (HH:MM)

### `reviews`
- `id` - ID –æ—Ç–∑—ã–≤–∞
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `text` - —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```
BOT_TOKEN=your_token_here
ADMIN_ID=123456789
```
